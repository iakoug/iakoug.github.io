{"componentChunkName":"component---src-templates-post-js","path":"/call-function-queue/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"å®ç°-axios-çš„æ‹¦æˆªå™¨\" style=\"position:relative;\"><a href=\"#%E5%AE%9E%E7%8E%B0-axios-%E7%9A%84%E6%8B%A6%E6%88%AA%E5%99%A8\" aria-label=\"å®ç° axios çš„æ‹¦æˆªå™¨ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å®ç° axios çš„æ‹¦æˆªå™¨</h2>\n<p>å¦‚ä½•å®ç° axios çš„æ‹¦æˆªå™¨å¬èµ·æ¥å¾ˆç©ºæ³›ï¼Œå¯ä»¥æ¢ä¸ªé—®æ³•ï¼šæœ‰è‹¥å¹²ä¸ªå‡½æ•°ï¼Œå¦‚ä½•ä¿è¯ä»–ä»¬å½¼æ­¤ä¾æ¬¡æŒ‰é¡ºåºè°ƒç”¨ï¼Ÿ\nè¿™é‡Œå€ŸåŠ© Promise çš„é“¾å¼è°ƒç”¨çš„å°æŠ€å·§ï¼Œåˆ†åˆ«æŠŠæ¯ä¸€ä¸ªå‡½æ•°åŒ…è£…ä¸º Promise é“¾ä¸Šçš„æ¯ä¸€ä¸ªå›è°ƒã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// å‡½æ•°é˜Ÿåˆ—</span>\n<span class=\"token keyword\">const</span> fns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">// å€ŸåŠ© reduce</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">generatePromiseChain</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fns</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> fns<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">promises<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    promises <span class=\"token operator\">=</span> promises<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> promises\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// invoke execution</span>\n<span class=\"token function\">generatePromiseChain</span><span class=\"token punctuation\">(</span>fns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€æ¡æŒ‰é¡ºåºæ‰§è¡Œçš„ Promise é“¾ã€‚\nè¿›è¡Œç®€å•æµ‹è¯•ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token function\">generatePromiseChain</span><span class=\"token punctuation\">(</span>fns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// output:</span>\n<span class=\"token comment\">// 1</span>\n<span class=\"token comment\">// 2</span>\n<span class=\"token comment\">// 3</span>\n<span class=\"token comment\">// end</span></code></pre></div>\n<p>ä¸Šé¢å·²ç»å®ç°ä¸€æ¡æŒ‰åºè°ƒç”¨çš„å‡½æ•°é˜Ÿåˆ—äº†ï¼Œä½†æ˜¯å‡½æ•°çš„æ‰§è¡Œæ˜¯ä¸€æ¬¡æ€§å®Œæˆçš„è€Œæ— æ³•ç”±ç”¨æˆ·ä¸»åŠ¨æ§åˆ¶ï¼Œé‚£ä¹ˆå¦‚ä½•æ§åˆ¶è¿™æ¡ Promise é“¾ï¼Œè®©æ¯æ¬¡çš„å‡½æ•°è°ƒç”¨ä¾èµ–ç”¨æˆ·çš„æ§åˆ¶å‘¢ï¼Ÿæ¢å¥è¯è¯´å°±æ˜¯æ¯ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨éœ€è¦ä¸€ä¸ªå¼€å…³ï¼Œå½“å¼€å…³æ‰“å¼€çš„æ—¶å€™æ‰å‘èµ·è°ƒç”¨ã€‚</p>\n<h2 id=\"å®ç°-vue-router-çš„è·¯ç”±æ‹¦æˆª\" style=\"position:relative;\"><a href=\"#%E5%AE%9E%E7%8E%B0-vue-router-%E7%9A%84%E8%B7%AF%E7%94%B1%E6%8B%A6%E6%88%AA\" aria-label=\"å®ç° vue router çš„è·¯ç”±æ‹¦æˆª permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å®ç° vue-router çš„è·¯ç”±æ‹¦æˆª</h2>\n<p>è¿™é‡Œçš„å®ç°æ–¹å¼çš„å…³é”®åœ¨äºè¿™ä¸ªâ€œå¼€å…³â€ã€‚\næ—¢ç„¶å¼€å…³æ‰“å¼€æ˜¯æ‰å¼€å¯ä¸‹ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼Œé‚£ä¹ˆå°±æŠŠå¼€å…³è®¾è®¡ä¸ºä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠä¸‹ä¸€ä¸ªå‡½æ•°çš„çš„è°ƒç”¨åŒ…è£…åœ¨è¿™ä¸ªå¼€å…³å†…éƒ¨ï¼ˆç±»ä¼¼è£…é¥°è€…æ¨¡å¼ï¼‰å³å¯ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨å¼€å…³è¿™ä¸ªå‡½æ•°å°±æ˜¯å¼€å¯ä¸‹ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ã€‚\nä¸‹é¢å°è£…ä¸€ä¸ª compose å‡½æ•°ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// æ„é€  compose å‡½æ•°</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fns</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// åˆå§‹åŒ–è°ƒç”¨å‡½æ•°é˜Ÿåˆ— ä»ç¬¬ä¸€ä¸ªå¼€å§‹è‡ªè°ƒç”¨</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">order <span class=\"token operator\">=</span> <span class=\"token number\">0</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// é˜Ÿåˆ—å­˜åœ¨å½“å‰é¡¹å‡½æ•°ä¾¿å‘èµ·è°ƒç”¨ åŒæ—¶åœ¨å½“å‰é¡¹å‡½æ•°å…¥å‚æ–°å¢å¼€å…³å›è°ƒå‡½æ•° å¼€å…³å†…éƒ¨åŒ…è£…ä¸‹ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      fns<span class=\"token punctuation\">[</span>order<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span>\n      fns<span class=\"token punctuation\">[</span>order<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// å‡½æ•°é˜Ÿåˆ—ç´¢å¼•è‡ªåŠ 1è¿›è¡Œä¸‹ä¸€ä¸ªå‡½æ•°è°ƒç”¨</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span>order <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>compose å·²ç»åŸºæœ¬å®Œæˆå°è£…ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token parameter\">next</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token parameter\">next</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>fns<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ç”±äºå‡½æ•°é˜Ÿåˆ—çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ²¡æœ‰å¼€å¯ä¸‹ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„å¼€å…³ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</span>\n\n<span class=\"token comment\">// output:</span>\n<span class=\"token comment\">// 1</span>\n<span class=\"token comment\">// 2</span>\n<span class=\"token comment\">// end</span></code></pre></div>\n<p>ä¸Šé¢å·²ç»è¯´äº†å‡½æ•°é˜Ÿåˆ—è°ƒç”¨çš„ä¸¤ç§æ¨¡å¼ï¼š</p>\n<ul>\n<li>é“¾å¼åŒæ­¥è°ƒç”¨</li>\n<li>å¼€å…³å¼åŒæ­¥è°ƒç”¨</li>\n</ul>\n<p>ä¸‹é¢å†ç»§ç»­è¯´è¯´ç¬¬ä¸‰ç§æ´‹è‘±æ¨¡å‹å¼å‡½æ•°é˜Ÿåˆ—è°ƒç”¨ï¼ˆç¬¬ä¸‰æ¬¡æåˆ°äº† ğŸ¤£ï¼Œä½†æ—¢ç„¶æ˜¯ç»Ÿä¸€å½’æ¡£ï¼Œé‚£ä¹ˆç²¾ç²¹çš„åŒç±»å‹å‡½æ•°é˜Ÿåˆ—çš„è°ƒç”¨å²‚èƒ½ä¸æ”¾åœ¨ä¸€èµ·ï¼‰</p>\n<h2 id=\"å®ç°-koa2-æ´‹è‘±æ¨¡å‹\" style=\"position:relative;\"><a href=\"#%E5%AE%9E%E7%8E%B0-koa2-%E6%B4%8B%E8%91%B1%E6%A8%A1%E5%9E%8B\" aria-label=\"å®ç° koa2 æ´‹è‘±æ¨¡å‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å®ç° Koa2 æ´‹è‘±æ¨¡å‹</h2>\n<p>ç®€å•çš„æ¥è¯´æ´‹è‘±æ¨¡å‹å¼è°ƒç”¨å°±æ˜¯ç›¸å½“äºç»™æ¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨å¢åŠ äº†ä¸€ä¸ªæ”¯æŒåç»­å¤„ç†çš„å®¹é”™æœºåˆ¶ï¼Œå±äºç”±å¤–å‘å†…è°ƒç”¨å¤„ç†ä¸€éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ï¼ˆæˆ–å‡ºç°é—®é¢˜æ—¶ï¼‰å†ç”±å†…å‘å¤–å¯ä»¥å¤„ç†åç»­é€»è¾‘çš„æœºåˆ¶ã€‚\nå…·ä½“çš„ç»†èŠ‚å¾ˆç®€å•ä¸å†èµ˜è¿°ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// æ„é€  compose å‡½æ•°ï¼ˆctx ä¸º Koa çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼‰</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compose</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">ctx</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">async</span> <span class=\"token parameter\">middlewares</span> <span class=\"token operator\">=></span>\n  <span class=\"token comment\">// æ¥å—å‡½æ•°é˜Ÿåˆ—å€ŸåŠ© reduceRight æ–¹æ³•ç”±ç”±å‘å·¦è¿›è¡ŒåŒ…è£…ï¼ˆè¿™æ ·æ‰å¯ä»¥ä¿è¯æœ€å¤–å±‚å‡½æ•°æ˜¯é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªæœ€å…ˆæ‰§è¡Œï¼‰</span>\n  <span class=\"token keyword\">await</span> middlewares<span class=\"token punctuation\">.</span><span class=\"token function\">reduceRight</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">next<span class=\"token punctuation\">,</span> middleware</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      <span class=\"token comment\">// ä»å³å‘å·¦å°†é˜Ÿåˆ—çš„æ¯ä¸ªå‡½æ•°åŒ…è£…ä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„ next å¼€å…³</span>\n      <span class=\"token punctuation\">(</span>next <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span> middleware<span class=\"token punctuation\">,</span> oldNext</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        <span class=\"token keyword\">await</span> <span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> oldNext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> middleware<span class=\"token punctuation\">,</span> next<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ä»¥ä¸Šä¾¿ç®€å•å°è£…å®Œæ¯•äº†ã€‚\nä¸‹é¢è¿›è¡Œæµ‹è¯•ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> middlewares <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token function\">compose</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>middlewares<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// output:</span>\n<span class=\"token comment\">// 1</span>\n<span class=\"token comment\">// 3</span>\n<span class=\"token comment\">// 5</span>\n<span class=\"token comment\">// 6</span>\n<span class=\"token comment\">// 4</span>\n<span class=\"token comment\">// 2</span></code></pre></div>\n<h2 id=\"last\" style=\"position:relative;\"><a href=\"#last\" aria-label=\"last permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Last</h2>\n<p>ä»¥ä¸Šä¾¿æ˜¯æœ¬æ–‡å½’æ¡£çš„ä¸‰ç§å‡½æ•°é˜Ÿåˆ—ç®€å•è°ƒç”¨çš„æ¨¡å¼ï¼š</p>\n<ul>\n<li>é“¾å¼è°ƒç”¨</li>\n<li>å¼€å…³å¼è°ƒç”¨</li>\n<li>æ´‹è‘±æ¨¡å‹å¼è°ƒç”¨</li>\n</ul>\n<p>The End.ğŸ†</p>","timeToRead":2,"excerpt":"å®ç° axios çš„æ‹¦æˆªå™¨ å¦‚ä½•å®ç° axios çš„æ‹¦æˆªå™¨å¬èµ·æ¥å¾ˆç©ºæ³›ï¼Œå¯ä»¥æ¢ä¸ªé—®æ³•ï¼šæœ‰è‹¥å¹²ä¸ªå‡½æ•°ï¼Œå¦‚ä½•ä¿è¯ä»–ä»¬å½¼æ­¤ä¾æ¬¡æŒ‰é¡ºåºè°ƒç”¨ï¼Ÿ\nè¿™é‡Œå€ŸåŠ© Promise çš„é“¾å¼è°ƒç”¨çš„å°æŠ€å·§ï¼Œåˆ†åˆ«æŠŠæ¯ä¸€ä¸ªå‡½æ•°åŒ…è£…ä¸º Promiseâ€¦","frontmatter":{"title":"Call function queue - ä¸‰ç§å‡½æ•°é˜Ÿåˆ—è°ƒç”¨é—®é¢˜çš„å½’æ¡£","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADHUlEQVQ4y5VUbUhTURg+26JfQb8F9Z5t9+7jujk/tmuZaGppGWZ+pGSoGKalpaLO/P6MpWJUgoFR9LNCsgwUpSxLMW2bUwkxzZWa5QdpJlpkcTvnuPzXpgcuz3uel/vwPO859wJgZ31McgefMlhSf6tlRBh/3Ja6rTVKl1au0gl4v3pdKlw2MGBbazJWQ/BrhVyIcaVO6rTeRE/z92T86g26G3N/HkgESNyx2Ii3FjwGQWAuV7nFzeXJe5HTXz8bGH7ZQLdj7ns9LUC1Y0GzmNt0GedOok6dURtm0lT850zl7EYJy8/lMhmYn9czImu03L6YCfoQHAvxJFHHIz11E1Eev63xmomFVA0/c041vVik2IN7sxdZgV2xHugP+ig/MCTWgrlmNeGG3bUDo8Fei+MRngtTcZ689ZQmFvMfTm+6Xyiwcygv4CGbS05ki540AvfxFlY3PObF8SMe2vlBRueEexaFTjCvl9mP2wGPAROlI/UbSisyQp9JJD5jorgvE9CXN1PcXdwzUpzA7MwBNFfHB9ILA4i7Xiog0Sz25weo/SYLcmmE3JJJwrmRBBQndCjUIM0ET+ER0EMdJIPugiF9aAQLaG99Kwnk+6FvJ+b7oJ+w3/UAsMh0/xerleWBGpketMHjROwJPCFvg+EbHTBs8BkMXTdJjvKvYCC5Ki9hsMg2Z8dxm8VxuzC2wJh09Ky3iiOH++hYHs12qIsKJUKdMAwYHYlhd3XIZatrFJnNLcnZO/dhvPUhPLn0CEZbW8Qx7KbzSNJ/Tfk6dlfL5Als6FLD6C03JemDTZLU99forCzMj7q4C5w178BzeBjFDrIvls9WgTJlCREsVZYylYqi7kpF8Vq1vHD1iizfA/OV8mIhj7Adhjt2hwWRCKmL2HKPYra8FAmnVCsKyWdQpSgkvUZpxvZ+VXImGeSo64jDbFWNU7bKIP7Xuyy/tPW91jM5YNsrwa2KvJimrvM+r67di+sSZRk5hAuaGiRcAAxM/jYdypIJqmQpu30VmeTGRij1hCtgKwAaAdjRwpFt6CSlE8ncaCZJgOLvSOcvuDsP7YSsLpgAAAAASUVORK5CYII=","width":150,"height":150,"src":"/static/15b1871ea4c811121febad33ed4becb6/4148e/post.png","srcSet":"/static/15b1871ea4c811121febad33ed4becb6/4148e/post.png 1x"}}},"slug":"call-function-queue","date":"2019-10-08T00:00:00.000Z","categories":["Algorithm","Popular"],"tags":["interceptor","reduce","compose","functional","vue-router","redux"],"template":"post"},"fields":{"slug":"/call-function-queue/","date":"2019-10-08T00:00:00.000Z"}}},"pageContext":{"slug":"/call-function-queue/"}}}
{"componentChunkName":"component---src-templates-post-js","path":"/pay-attention-to-these-js/","result":{"data":{"markdownRemark":{"html":"<p>è®°å½•åŸºæœ¬çš„ JS ç›¸å…³çš„ä½¿ç”¨æˆ–è€…é‡åˆ°çš„ issues\næŒç»­æ›´æ–° ğŸ‘</p>\n<hr>\n<h3 id=\"å°æ•°éƒ¨åˆ†è¿›è¡Œæ•°å­¦è¿ç®—å¯èƒ½ä¼šç”Ÿæˆè¿‡å¤šçš„å°æ•°ä½\" style=\"position:relative;\"><a href=\"#%E5%B0%8F%E6%95%B0%E9%83%A8%E5%88%86%E8%BF%9B%E8%A1%8C%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%9F%E6%88%90%E8%BF%87%E5%A4%9A%E7%9A%84%E5%B0%8F%E6%95%B0%E4%BD%8D\" aria-label=\"å°æ•°éƒ¨åˆ†è¿›è¡Œæ•°å­¦è¿ç®—å¯èƒ½ä¼šç”Ÿæˆè¿‡å¤šçš„å°æ•°ä½ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å°æ•°éƒ¨åˆ†è¿›è¡Œæ•°å­¦è¿ç®—å¯èƒ½ä¼šç”Ÿæˆè¿‡å¤šçš„å°æ•°ä½</h3>\n<p>å¾ˆå¤šäººåº”è¯¥éƒ½é‡åˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼š<code class=\"language-text\">0.1 + 0.2 === 0.3</code> è¿”å›å€¼æ˜¯ falseï¼Œé¡¿ä¸ºæƒŠå¹\nåœ¨æµè§ˆå™¨è¾“å…¥åå‘ç° <code class=\"language-text\">0.1 + 0.2</code> è¿”å›å€¼æ˜¯ <code class=\"language-text\">0.30000000000000004</code>(å°æ•° 17 ä½ï¼Œ<a href=\"#JSï¼ˆJavaï¼‰æµ®ç‚¹æ•°çš„æ•°å­—é•¿åº¦\">å…³äºè¿™ä¸ª</a>)\næŸ¥äº†ä¸€ä¸‹æ‰¾åˆ°äº†ä¸ªè§£é‡Šï¼š</p>\n<blockquote>\n<p>Computer in dealing with digital mathematical operations (such as the decimal), its first converted to binary again, the decimal Numbers to binary may occur in the process of precision loss, can be used by toFixed and round method comprehensive to solve this problem.</p>\n</blockquote>\n<p>è®¡ç®—æœºæ˜¯åªè®¤è¯†äºŒè¿›åˆ¶çš„ï¼Œæ•°å­¦è¿ç®—ä¸­è¿›åˆ¶è½¬æ¢çš„è¿‡ç¨‹å¯èƒ½ä¼šå‘ç°ç²¾åº¦æŸå¤±çš„æƒ…å†µ</p>\n<p><em>å¯ä»¥ä½¿ç”¨ <code class=\"language-text\">toFixed</code> æˆ–è€… <code class=\"language-text\">round</code> æ–¹æ³•å…¼å®¹å¤„ç†</em></p>\n<h3 id=\"jsï¼ˆjavaï¼‰æµ®ç‚¹æ•°çš„æ•°å­—é•¿åº¦\" style=\"position:relative;\"><a href=\"#js%EF%BC%88java%EF%BC%89%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E6%95%B0%E5%AD%97%E9%95%BF%E5%BA%A6\" aria-label=\"jsï¼ˆjavaï¼‰æµ®ç‚¹æ•°çš„æ•°å­—é•¿åº¦ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSï¼ˆJavaï¼‰æµ®ç‚¹æ•°çš„æ•°å­—é•¿åº¦</h3>\n<p>ECMAScript Numberï¼ˆJavaï¼š float | doubleï¼‰ æ˜¯ä½¿ç”¨ IEEE754 æ ¼å¼æ¥è¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œæµ®ç‚¹æ•°çš„æœ€é«˜ç²¾åº¦ä¸º 17 ä½å°æ•°</p>\n<p><em><code class=\"language-text\">Number.EPSILON</code>(1 ä¸å¤§äº 1 çš„æœ€å°æµ®ç‚¹æ•°ä¹‹é—´çš„å·®, æ¢å¥è¯è¯´å…¶å®å°±æ˜¯ JS æ”¯æŒçš„æœ€å°ç²¾åº¦) å€¼ä¸º 2^-52ï¼Œçº¦ç­‰äº 2.2e-16ï¼Œæµ®ç‚¹æ•°è¿ç®—çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¯¯å·®å°äºè¿™ä¸ªæ•°å€¼ï¼Œå¯ä»¥è®¤ä¸ºè¯¯å·®æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥è¯´ç¬¬ 17 ä½ä¸Šçš„å°æ•°ï¼Œå…¶å®æ²¡æœ‰æ„ä¹‰</em></p>\n<h3 id=\"js-ç®­è½´å‡½æ•°\" style=\"position:relative;\"><a href=\"#js-%E7%AE%AD%E8%BD%B4%E5%87%BD%E6%95%B0\" aria-label=\"js ç®­è½´å‡½æ•° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JS ç®­è½´å‡½æ•°</h3>\n<p>å¦‚ä¸‹ä»£ç ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> testFunc <span class=\"token operator\">=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'foo'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">testFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// { name: \"foo\" }</span>\n<span class=\"token function\">testFunc</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'bar'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// { name: \"foo\" }</span></code></pre></div>\n<p>å¯ä»¥çœ‹åˆ°ç®­å¤´å‡½æ•°åœ¨å®šä¹‰ä¹‹åï¼Œthis å°±ä¸ä¼šå‘ç”Ÿæ”¹å˜äº†ï¼Œæ— è®ºç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼è°ƒç”¨å®ƒï¼Œthis éƒ½ä¸ä¼šæ”¹å˜</p>\n<p>åŸå› ï¼šç®­å¤´å‡½æ•°ä¸ä¼šè‡ªåŠ¨ç»‘å®šå±€éƒ¨å˜é‡ï¼Œå¦‚ thisï¼Œargumentsï¼Œsuper(ES6)ï¼Œnew.target(ES6)ç­‰</p>\n<p>æ‰€ä»¥ç®­å¤´å‡½æ•°æ²¡æœ‰å®ƒè‡ªå·±çš„ this å€¼ï¼Œç®­å¤´å‡½æ•°å†…çš„ this å€¼ç»§æ‰¿è‡ªå¤–å›´ä½œç”¨åŸŸã€‚åœ¨ç®­å¤´å‡½æ•°ä¸­è°ƒç”¨ this æ—¶ï¼Œä»…ä»…æ˜¯ç®€å•çš„æ²¿ç€ä½œç”¨åŸŸé“¾å‘ä¸Šå¯»æ‰¾ï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€ä¸ª this æ‹¿æ¥ä½¿ç”¨</p>\n<p>ç®­è½´å‡½æ•°æœ‰å¦‚ä¸‹ç­‰ç‰¹æ€§ï¼š</p>\n<ul>\n<li>ç®­å¤´å‡½æ•°ä½“å†…çš„ this å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡</li>\n<li>ç®­å¤´å‡½æ•°ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨ new å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯</li>\n<li>ç®­å¤´å‡½æ•°ä¸å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ Rest å‚æ•°ä»£æ›¿</li>\n<li>ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°</li>\n</ul>\n<h3 id=\"å…³äºåˆ›å»º-vue-ä¸­çš„-vnodevirture-dom\" style=\"position:relative;\"><a href=\"#%E5%85%B3%E4%BA%8E%E5%88%9B%E5%BB%BA-vue-%E4%B8%AD%E7%9A%84-vnodevirture-dom\" aria-label=\"å…³äºåˆ›å»º vue ä¸­çš„ vnodevirture dom permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å…³äºåˆ›å»º vue ä¸­çš„ vnode(virture dom)</h3>\n<p>å…¬å¸ä¹‹å‰æœ‰ä¸ªæ–‡ä»¶ä¸Šä¼ ç»„ä»¶ï¼Œç”±äºæ¯æ¬¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ dom å¯¼è‡´ä¸€äº›ä¸å¯é¢„çŸ¥çš„æ ·å¼é”™è¯¯ï¼Œäºæ˜¯åŒäº‹æ”¹ç”¨ vnode æ¥å¤„ç†è¿™éƒ¨åˆ†</p>\n<p>æ‹¿æ¥ä¸»ä¹‰ï¼š\n<img src=\"/virturedom.png\" alt=\"virturedom\"></p>\n<p><strong>Vue2.x ç‰ˆæœ¬ä¸­ VNode å±æ€§ï¼š</strong></p>\n<ul>\n<li>tag:å½“å‰èŠ‚ç‚¹æ ‡ç­¾å</li>\n<li>dataï¼šå½“å‰èŠ‚ç‚¹æ•°æ®å¯¹è±¡</li>\n<li>childrenï¼šå­èŠ‚ç‚¹æ•°ç»„</li>\n<li>textï¼šå½“å‰èŠ‚ç‚¹æ–‡æœ¬</li>\n<li>elmï¼šå½“å‰è™šæ‹ŸèŠ‚ç‚¹å¯¹åº”çš„çœŸå® dom èŠ‚ç‚¹</li>\n<li>nsï¼šèŠ‚ç‚¹çš„ namespace( åç§°ç©ºé—´)</li>\n<li>contentï¼šç¼–è¯‘ä½œç”¨åŸŸ</li>\n<li>functionalContextï¼šå‡½æ•°åŒ–ç»„ä»¶çš„ä½œç”¨åŸŸï¼Œå³å…¨å±€ä¸Šä¸‹æ–‡</li>\n<li>keyï¼šèŠ‚ç‚¹æ ‡è¯†ï¼Œæœ‰åˆ©äº patch ä¼˜åŒ–</li>\n<li>componentOptionsï¼šåˆ›å»ºç»„ä»¶å®ä¾‹æ—¶çš„ options</li>\n<li>childï¼šå½“å‰èŠ‚ç‚¹å¯¹åº”çš„ç»„ä»¶å®ä¾‹</li>\n<li>parentï¼šç»„ä»¶çš„å ä½èŠ‚ç‚¹</li>\n<li>rawï¼šåŸå§‹ html</li>\n<li>isStaticï¼šæ˜¯å¦æ˜¯é™æ€èŠ‚ç‚¹</li>\n<li>isRootInsertï¼šæ˜¯å¦ä½œä¸ºè·ŸèŠ‚ç‚¹æ’å…¥ï¼Œè‹¥è¢«åŒ…è£¹çš„èŠ‚ç‚¹ï¼Œè¯¥å±æ€§å€¼ä¸º false</li>\n<li>isCommentï¼šæ˜¯å¦ä¸ºæ³¨é‡ŠèŠ‚ç‚¹</li>\n<li>isClonedï¼šæ˜¯å¦ä¸ºå…‹éš†èŠ‚ç‚¹</li>\n<li>isOnceï¼šæ˜¯å¦åªæ”¹å˜(æ¸²æŸ“)ä¸€æ¬¡ï¼Œæˆ–æ˜¯å¦æœ‰ v-once æŒ‡ä»¤\nå…¶ä¸­è¿™é‡Œé¢åˆæœ‰å‡ ç§ VNode ç±»å‹</li>\n<li>TextVNodeï¼šæ–‡æœ¬èŠ‚ç‚¹</li>\n<li>ElementVNodeï¼šæ™®é€šå…ƒç´ èŠ‚ç‚¹</li>\n<li>ComponentVNodeï¼šç»„ä»¶èŠ‚ç‚¹</li>\n<li>EmptyVNodeï¼šç©ºèŠ‚ç‚¹ï¼Œæˆ–è€…è¯´æ˜¯æ²¡æœ‰å†…å®¹çš„æ³¨é‡ŠèŠ‚ç‚¹</li>\n<li>CloneVNodeï¼šå…‹éš†èŠ‚ç‚¹ï¼Œå¯ä»¥æ˜¯ä»¥ä¸Šä»»æ„ç±»å‹èŠ‚</li>\n</ul>\n<p>ä»€ä¹ˆæ—¶å€™ç”¨è™šæ‹Ÿ dom æ‰æ¯”è¾ƒå¥½å‘¢ï¼Ÿå…¶å®æˆ‘ä»¬ä½¿ç”¨çš„å•æ–‡ä»¶ç»„ä»¶å°±å·²ç»å¤Ÿå¥½äº†ã€‚ä½†æ˜¯å½“æŸäº›ä»£ç å†—ä½™çš„æ—¶å€™å¦‚æœå†™å•æ–‡ä»¶ç»„ä»¶çš„è¯ä¼šæœ‰å¥½å¤šé‡å¤çš„å†…å®¹</p>\n<p>æ¥ä¸‹æ¥ä»‹ç»å…¶æ ¸å¿ƒå‡½æ•° createElement(h)ï¼š\ncreateElement æ¥æ”¶ 3 ä¸ªå‚æ•°ï¼š</p>\n<ul>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ HTML æ ‡ç­¾åï¼Œç»„ä»¶æˆ–è€…å‡½æ•°éƒ½å¯ä»¥ï¼›æ­¤å‚æ•°æ˜¯å¿…é¡»çš„</li>\n<li>ç¬¬äºŒä¸ªä¸ºæ•°æ®å¯¹è±¡ï¼ˆå¯é€‰ï¼‰</li>\n<li>ç¬¬ä¸‰ä¸ªä¸ºå­èŠ‚ç‚¹ï¼ˆå¯é€‰ï¼‰</li>\n</ul>\n<p><strong>é™„ä¸Šç®€å• demoï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> Instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  data<span class=\"token operator\">:</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> _props<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">h</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> vnode <span class=\"token operator\">=</span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      attrs<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        type<span class=\"token operator\">:</span> <span class=\"token string\">'file'</span><span class=\"token punctuation\">,</span>\n        accept<span class=\"token operator\">:</span> <span class=\"token string\">'image/*'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      style<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        display<span class=\"token operator\">:</span> <span class=\"token string\">'none'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      ref<span class=\"token operator\">:</span> <span class=\"token string\">'tuhu_upload_input'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">class</span><span class=\"token operator\">:</span> <span class=\"token string\">'tuhu_upload_layout'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">[</span>vnode<span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"ä½¿ç”¨-instanceof-åˆ¤æ–­æ„é€ å‡½æ•°çš„é—®é¢˜\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8-instanceof-%E5%88%A4%E6%96%AD%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AE%E9%A2%98\" aria-label=\"ä½¿ç”¨ instanceof åˆ¤æ–­æ„é€ å‡½æ•°çš„é—®é¢˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ä½¿ç”¨ instanceof åˆ¤æ–­æ„é€ å‡½æ•°çš„é—®é¢˜</h3>\n<p>æµ‹è¯•ä»£ç ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token class-name\">A</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> obj\n<span class=\"token comment\">// a.__proto__ = obj // console.log(a instanceof A) // true</span>\n<span class=\"token keyword\">var</span> a2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a2 <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>æ‰€ä»¥ç»¼ä¸Šæ‰€è¿° instanceof å¹¶ä¸èƒ½ä»å­—é¢æ„æ€æ¥åˆ¤æ–­è°æ˜¯å¦æ˜¯è°çš„å®ä¾‹å¯¹è±¡\né±¼æ³¡æ³¡çš„é¢è¯•é¢˜ï¼šinstanceof åˆ¤æ–­æ„é€ å‡½æ•°å¯èƒ½ä¼šå‡ºç°ä¸å‡†ç¡®çš„æƒ…å†µå—ï¼Ÿå¦‚ <code class=\"language-text\">const arr = []; arr instanceof Array === false</code>ã€‚å¤§éƒ½è¯´ä¸å‡ºå…¶ä¸­å‡ ä½•, å…¶å®åŒæ ·åªéœ€è¦æ›´æ”¹ <code class=\"language-text\">arr.__proto__ = Object // Number etc.</code></p>\n<p>instanceof æœ¬æ„ï¼š</p>\n<blockquote>\n<p>MDN: The instanceof operator tests whether the prototype property of a constructor appears anywhere in the prototype chain of an object.\n<a href=\"url\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof</a></p>\n</blockquote>\n<p><strong>å°±æ˜¯è¯´ instanceof æ˜¯ç”¨æ¥åˆ¤æ–­ A.prototype æ˜¯å¦å­˜åœ¨äºå‚æ•° a çš„åŸå‹é“¾ä¸Š</strong></p>\n<p>æ‰€ä»¥å½“ A çš„ prototype è¢«æŒ‡å‘ä»»æ„ä¸€ä¸ªå…¶ä»–å¯¹è±¡çš„æ—¶å€™ A.prototype æ˜¯ä¸åœ¨ a çš„åŸå‹é“¾ä¸Šçš„</p>\n<p>a æ‰€åœ¨çš„åŸå‹é“¾: a ==> a.<strong>proto</strong> ==> Object.prototype ==> null</p>\n<p>a2 æ‰€åœ¨çš„åŸå‹é“¾: a2 ==> obj ==> Object.prototype ==> null</p>\n<p>æ‰€ä»¥æ­¤æ—¶å¦‚æœèµ‹å€¼ a.<strong>proto</strong> = objï¼Œa instanceof A åŒæ ·ä¼šè¿”å› true</p>\n<p><em>JS æ˜¯ä¸€é—¨åŸºäºåŸå‹çš„è¯­è¨€ï¼Œè€ŒåŸå‹æ˜¯åŠ¨æ€çš„å¹¶éä¸€å®šä¸å˜æ‰€ä»¥ä¼šæœ‰ä¸Šè¿°æƒ…å†µ</em></p>\n<h3 id=\"å°†-function-å£°æ˜çš„å‡½æ•°çš„å‡½æ•°å¼è°ƒç”¨æ”¹ä¸º-new-å…³é”®å­—è°ƒç”¨\" style=\"position:relative;\"><a href=\"#%E5%B0%86-function-%E5%A3%B0%E6%98%8E%E7%9A%84%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0%E5%BC%8F%E8%B0%83%E7%94%A8%E6%94%B9%E4%B8%BA-new-%E5%85%B3%E9%94%AE%E5%AD%97%E8%B0%83%E7%94%A8\" aria-label=\"å°† function å£°æ˜çš„å‡½æ•°çš„å‡½æ•°å¼è°ƒç”¨æ”¹ä¸º new å…³é”®å­—è°ƒç”¨ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å°† function å£°æ˜çš„å‡½æ•°çš„å‡½æ•°å¼è°ƒç”¨æ”¹ä¸º new å…³é”®å­—è°ƒç”¨</h3>\n<p>es6 çš„ class å£°æ˜ç±»çš„æ–¹å¼æ˜¯å¿…é¡»é€šè¿‡ new å…³é”®å­—è¿›è¡Œè°ƒç”¨çš„</p>\n<p>è€Œä¼ ç»Ÿçš„åˆ©ç”¨ function å…³é”®å­—å£°æ˜çš„æ„é€ å‡½æ•°å¦‚ä½•é¿å…è¢«å‡½æ•°å¼è°ƒç”¨å‘¢ï¼Ÿæˆ–è€…è¯´å°±ç®—æ˜¯å‡½æ•°å¼è°ƒç”¨ä½†æ˜¯ä¾ç„¶æƒ³è¦ç”Ÿæˆå®ä¾‹å¯¹è±¡å‘¢\nå¾ˆç®€å• åˆ¤æ–­ constructor å³å¯</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// eg:</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">!==</span> arguments<span class=\"token punctuation\">.</span>callee<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'chris'</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">job</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A front-end engineer'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token constant\">A</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">work</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'working hard'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token constant\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">job</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// that's all</span></code></pre></div>\n<p>è¡¥å……ï¼š\n<em><code class=\"language-text\">Array()</code> å’Œ <code class=\"language-text\">new Array()</code> æ˜¯å®Œå…¨ä¸€è‡´çš„</em></p>\n<blockquote>\n<p>The Array constructor is the %Array% intrinsic object and the initial value of the Array property of the global object. When called as a constructor it creates and initializes a new exotic Array object. When Array is called as a function rather than as a constructor, it also creates and initializes a new Array object. Thus the function call Array(â€¦) is equivalent to the object creation expression new Array(â€¦) with the same arguments.\n<a href=\"https://www.ecma-international.org/ecma-262/7.0/index.html#sec-array-constructor\">https://www.ecma-international.org/ecma-262/7.0/index.html#sec-array-constructor</a></p>\n</blockquote>\n<p>å…³äº <code class=\"language-text\">Object()</code> ä¸ <code class=\"language-text\">new Object()</code> ä¹‹é—´çš„å·®å¼‚ï¼ŒES è§„èŒƒä¸­è¯´ Object()ä¼šè¿›è¡Œç±»å‹è½¬æ¢</p>\n<blockquote>\n<p>The Object constructor is the %Object% intrinsic object and the initial value of the Object property of the global object. When called as a constructor it creates a new ordinary object. When Object is called as a function rather than as a constructor, it performs a type conversion.\nThe Object constructor is designed to be subclassable. It may be used as the value of an extends clause of a class definition.\n<a href=\"https://www.ecma-international.org/ecma-262/7.0/index.html#sec-object-constructor\">https://www.ecma-international.org/ecma-262/7.0/index.html#sec-object-constructor</a></p>\n</blockquote>\n<h3 id=\"the-play-request-was-interrupted-by-a-call-to-pause\" style=\"position:relative;\"><a href=\"#the-play-request-was-interrupted-by-a-call-to-pause\" aria-label=\"the play request was interrupted by a call to pause permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The play() request was interrupted by a call to pause()</h3>\n<p>åšæ¡Œé¢é€šçŸ¥çš„ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦è‡ªå®šä¹‰æ¡Œé¢é€šçŸ¥æ˜¯å¦å¸¦æœ‰æç¤ºéŸ³ï¼Œä½¿ç”¨çš„æ˜¯ h5 çš„ Notification APIï¼Œåœ¨ api çš„ silent é…ç½®é¡¹ä¸ work çš„æ—¶å€™è‡ªå®šä¹‰ new Audio åœ¨æœ‰æ–°æ¶ˆæ¯çš„æ—¶å€™è§¦å‘ï¼Œç„¶ååœ¨å»¶æ—¶å™¨ä¸­å…³é—­çš„æ—¶å€™å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š\n<em>The play() request was interrupted by a call to pause()</em></p>\n<p>google åå‘ç° <em>Moreover since Chrome 50, a play() call on an a or element returns a Promise</em></p>\n<p>play æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œ è¿”å›ä¸€ä¸ª promise\n<strong>æ‰€ä»¥æ­£ç¡®çš„æ–¹å¼åº”è¯¥å…ˆè·å–è¿™ä¸ª promiseï¼Œ åœ¨ then å›è°ƒä¸­å®‰å…¨çš„å°†å…¶ pause æ‰</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">playSound</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> timer <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n  <span class=\"token keyword\">const</span> audio <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Audio</span><span class=\"token punctuation\">(</span>fileUrl<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> playPromise <span class=\"token operator\">=</span> audio<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>playPromise <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    playPromise\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        timer <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          audio<span class=\"token punctuation\">.</span><span class=\"token function\">pause</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n          <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timer<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p><a href=\"https://developers.google.com/web/updates/2017/06/play-request-was-interrupted\">https://developers.google.com/web/updates/2017/06/play-request-was-interrupted</a></p>\n</blockquote>\n<h3 id=\"å®ç°-promise-çš„-resolve-å’Œ-reject-å‡½æ•°æ—¶å†…éƒ¨ä¸ºä½•è¦å¼‚æ­¥æ‰§è¡Œ\" style=\"position:relative;\"><a href=\"#%E5%AE%9E%E7%8E%B0-promise-%E7%9A%84-resolve-%E5%92%8C-reject-%E5%87%BD%E6%95%B0%E6%97%B6%E5%86%85%E9%83%A8%E4%B8%BA%E4%BD%95%E8%A6%81%E5%BC%82%E6%AD%A5%E6%89%A7%E8%A1%8C\" aria-label=\"å®ç° promise çš„ resolve å’Œ reject å‡½æ•°æ—¶å†…éƒ¨ä¸ºä½•è¦å¼‚æ­¥æ‰§è¡Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å®ç° Promise çš„ resolve å’Œ reject å‡½æ•°æ—¶å†…éƒ¨ä¸ºä½•è¦å¼‚æ­¥æ‰§è¡Œ</h3>\n<p>å‚è€ƒåˆ«äººçš„å®ç°çœ‹åˆ°é‡Œé¢æœ‰å…³ resolve å’Œ reject å‡½æ•°å†…éƒ¨çš„ä»£ç å¼‚æ­¥æ‰§è¡Œ å´æ²¡æœ‰è§£é‡ŠåŸå› </p>\n<blockquote>\n<p><a href=\"https://github.com/xieranmaya/blog/issues/3\">å‰–æ Promise å†…éƒ¨ç»“æ„ï¼Œä¸€æ­¥ä¸€æ­¥å®ç°ä¸€ä¸ªå®Œæ•´çš„ã€èƒ½é€šè¿‡æ‰€æœ‰ Test case çš„ Promise ç±»</a></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      self<span class=\"token punctuation\">.</span>status <span class=\"token operator\">=</span> <span class=\"token string\">'resolved'</span>\n      self<span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> value\n      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> self<span class=\"token punctuation\">.</span>onResolvedCallback<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        self<span class=\"token punctuation\">.</span>onResolvedCallback<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä»¥ä¸‹ä¸ºä¸ªäººç®€å•ç†è§£ï¼š</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼ševentbus çš„å®ç°\nåœ¨ä½¿ç”¨ eventbus è¿›è¡Œæ•°æ®é€šä¿¡çš„æ—¶å€™ï¼Œé€šå¸¸éƒ½æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹ emit äº‹ä»¶å åœ¨å¦å¤–æƒ³è¦è§¦å‘çš„åœ°æ–¹ on æ¥æ”¶è¿™ä¸ªäº‹ä»¶åŒæ—¶ä¼ å…¥ç›¸åº”çš„å›è°ƒï¼Œè€Œè¿™ç§ä½¿ç”¨æ–¹å¼å¾ˆå®¹æ˜“ç»™å°ç™½é€ æˆä¸€ç§è¯¯è§£ï¼šæˆ‘ä½¿ç”¨ emit æ´¾å‘ï¼Œä½¿ç”¨ on æ¥æ¥æ”¶æ‰§è¡Œè¿™ä¸ªæ´¾å‘</p>\n<p>æ˜¾ç„¶ä¸æ˜¯çš„\nè‡ªå·±å°è£…ä¸€ä¸ªç®€å•çš„ eventbus ä¹‹åå°±ä¼šç†è§£\nemit æ˜¯é™æ€çš„è€Œ on æ‰æ˜¯ä¾èµ–æ”¶é›†çš„åœ°æ–¹ è¿™ä¸ªé¡ºåºä¸èƒ½å˜----ä¸€å®šæ˜¯å…ˆæ”¶é›†å®Œä¾èµ–æ‰å¯ä»¥æ´¾å‘</p>\n<p>æ‰€ä»¥å¯¹äº promise çš„ resolve å’Œ then ä¹‹é—´æ˜¯ä¸æ˜¯å°±å¯ä»¥ç†è§£ä¸ºå¿…é¡» then æ”¶é›†ä¾èµ–åæ‰å¯ä»¥è§¦å‘ resolve è¿™æ · resolve çš„å‚æ•°æ‰å¯ä»¥è¢« then æ¥æ”¶åˆ°ï¼ˆreject å’Œ catch åŒç†ï¼‰</p>\n<p>æ‰€ä»¥å›åˆ°ä¸Šé¢æå‡ºçš„ resolve å’Œ reject å‡½æ•°å†…éƒ¨ä¸ºä½•ä¸€å®šè¦å¼‚æ­¥æ‰§è¡Œçš„é—®é¢˜</p>\n<p>é¦–å…ˆæ¶‰åŠåˆ°ä¸€ä¸ªåˆå§‹åŒ–çš„æœºåˆ¶</p>\n<p>å‡å¦‚æ˜¯åŒæ­¥æ‰§è¡Œ resolve å¦‚æœåœ¨ new Promise æ—¶ç«‹å³è§¦å‘ æ­¤æ—¶æ˜¯æ²¡æœ‰æ”¶é›†ä¾èµ–å‡½æ•°çš„ï¼ˆthen æ”¶é›†åˆ°çš„å¯¹åº”çš„å¾®ä»»åŠ¡é˜Ÿåˆ— <code class=\"language-text\">onResolvedCallback</code> å°šæœªæ‰§è¡Œï¼‰\né‚£ä¹ˆ resolve ä¸­çš„æ•°å€¼æ— æ³•è¢«ä¼ é€’</p>\n<p>è€Œå¦‚æœåŠ å…¥å¼‚æ­¥ï¼ˆsetTimeoutï¼‰å˜ä¸ºä¸€æ¬¡å®ä»»åŠ¡æ¨å…¥ä¸‹æ¬¡äº‹ä»¶å¾ªç¯</p>\n<p>è¿™æ ·å°±ç¡®ä¿äº†å…ˆæ”¶é›†äº†ä¾èµ–å†è§¦å‘å›è°ƒ</p>\n<blockquote>\n<p><a href=\"https://kwoks.me/post/2019-03-07-EventLoop\">JS/Node äº‹ä»¶å¾ªç¯</a></p>\n</blockquote>\n<h3 id=\"ä½ ä¸çŸ¥é“çš„åŸç”Ÿæ–¹æ³•æ›´å¤šä½¿ç”¨æ–¹å¼-jsonparseã€jsonstringifyã€settimeout\" style=\"position:relative;\"><a href=\"#%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E5%8E%9F%E7%94%9F%E6%96%B9%E6%B3%95%E6%9B%B4%E5%A4%9A%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F-jsonparse%E3%80%81jsonstringify%E3%80%81settimeout\" aria-label=\"ä½ ä¸çŸ¥é“çš„åŸç”Ÿæ–¹æ³•æ›´å¤šä½¿ç”¨æ–¹å¼ jsonparseã€jsonstringifyã€settimeout permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ä½ ä¸çŸ¥é“çš„åŸç”Ÿæ–¹æ³•æ›´å¤šä½¿ç”¨æ–¹å¼ JSON.parseã€JSON.stringifyã€setTimeout</h3>\n<h4 id=\"settimeout-å®šæ—¶å™¨\" style=\"position:relative;\"><a href=\"#settimeout-%E5%AE%9A%E6%97%B6%E5%99%A8\" aria-label=\"settimeout å®šæ—¶å™¨ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout å®šæ—¶å™¨</h4>\n<p>æ”¯æŒä¼ é€’ç¬¬ä¸‰ä¸ªä»¥åŠä¹‹åå‚æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°çš„å‚æ•°</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">delay</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">fn<span class=\"token punctuation\">,</span> wait<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">,</span> wait<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">3</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h5 id=\"jsonparse\" style=\"position:relative;\"><a href=\"#jsonparse\" aria-label=\"jsonparse permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSON.parse</h5>\n<p>JSON.parse è¿˜å¯é¢å¤–æ¥å—ç¬¬äºŒä¸ªå¤„ç†å‡½æ•° å¯¹åŸæœ¬ç”Ÿæˆçš„è¿”å›å€¼è¿›è¡Œä¿®æ”¹</p>\n<h5 id=\"jsonstringify\" style=\"position:relative;\"><a href=\"#jsonstringify\" aria-label=\"jsonstringify permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSON.stringify</h5>\n<p>JSON.stringify å¯é¢å¤–å†æ¥æ”¶ä¸¤ä¸ªå‚æ•°</p>\n<ul>\n<li>ç¬¬äºŒä¸ªå‚æ•°ï¼š å¦‚æœè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œè¢«åºåˆ—åŒ–çš„å€¼çš„æ¯ä¸ªå±æ€§éƒ½ä¼šç»è¿‡è¯¥å‡½æ•°çš„è½¬æ¢å’Œå¤„ç†ï¼›å¦‚æœè¯¥å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™åªæœ‰åŒ…å«åœ¨è¿™ä¸ªæ•°ç»„ä¸­çš„å±æ€§åæ‰ä¼šè¢«åºåˆ—åŒ–åˆ°æœ€ç»ˆçš„ JSON å­—ç¬¦ä¸²ä¸­ï¼›å¦‚æœè¯¥å‚æ•°ä¸º null æˆ–è€…æœªæä¾›ï¼Œåˆ™å¯¹è±¡æ‰€æœ‰çš„å±æ€§éƒ½ä¼šè¢«åºåˆ—åŒ–</li>\n<li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæŒ‡å®šç¼©è¿›ç”¨çš„ç©ºç™½å­—ç¬¦ä¸²ï¼Œç”¨äºç¾åŒ–è¾“å‡ºï¼ˆpretty-printï¼‰ï¼›å¦‚æœå‚æ•°æ˜¯ä¸ªæ•°å­—ï¼Œå®ƒä»£è¡¨æœ‰å¤šå°‘çš„ç©ºæ ¼ï¼›ä¸Šé™ä¸º 10ã€‚è¯¥å€¼è‹¥å°äº 1ï¼Œåˆ™æ„å‘³ç€æ²¡æœ‰ç©ºæ ¼ï¼›å¦‚æœè¯¥å‚æ•°ä¸ºå­—ç¬¦ä¸²(å­—ç¬¦ä¸²çš„å‰åä¸ªå­—æ¯)ï¼Œè¯¥å­—ç¬¦ä¸²å°†è¢«ä½œä¸ºç©ºæ ¼ï¼›å¦‚æœè¯¥å‚æ•°æ²¡æœ‰æä¾›ï¼ˆæˆ–è€…ä¸º nullï¼‰å°†æ²¡æœ‰ç©ºæ ¼</li>\n</ul>\n<h3 id=\"arrayprototypepushapplyobj-arr\" style=\"position:relative;\"><a href=\"#arrayprototypepushapplyobj-arr\" aria-label=\"arrayprototypepushapplyobj arr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Array.prototype.push.apply(obj, arr)</h3>\n<p><em>èŒæ–°æ—¥å¸¸é—®é¢˜</em>\n<strong>ä»Šå¤©çœ‹åˆ°ä¹‹å‰å†™çš„ä¸€æ®µä»£ç å¤§æ¦‚ä¸ºï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>æœ€ç»ˆçš„ obj ä¸ºï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">2</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>é‚£å¦‚æœå‘ä¸€ä¸ª map ä¸­ push å‘¢ï¼Ÿ</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>æœ€ç»ˆçš„ map ä¸ºï¼š</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">Map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token number\">0</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token number\">0</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">2</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n  length<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n  size<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>Entries<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token function\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  length<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä¾ç„¶æ˜¯ä¸€æ”¾è¿›å¯¹è±¡æ–¹å¼æ”¾è¿›äº† mapï¼Œè€Œ map çš„ entries æ˜¯ç©ºçš„ï¼Œlength ä¹Ÿä¸º 0ï¼Œæˆ‘çŸ¥é“ map æ˜¯é€šè¿‡å®ä¾‹åŒ–ä¼ å…¥ option æˆ–è€…é€šè¿‡ set æ–¹æ³•æ‰å¯ä»¥è®¾ç½®é”®å€¼å¯¹ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„è¾“å‡ºå‘¢ï¼Ÿ\n<strong>Q.ä¸ºä»€ä¹ˆä¼šä»¥æ•°ç»„ä¸‹æ ‡å’Œå€¼ç»„æˆé”®å€¼å¯¹çš„æ–¹å¼æ”¾è¿›è¿™ä¸ªå¯¹è±¡å‘¢</strong></p>\n<hr>\n<p>è½åè¦æŒ¨æ‰“ï¼Œä¸æ‡‚å°±è¦æŸ¥ï¼Ÿemmmï¼Œæ²¡ google åˆ°...\næ˜¾ç„¶æˆ‘å¯¹æœç´¢å¼•æ“çš„åº”ç”¨è¿œè¿œä¸è¡Œ\nè½åè¦æŒ¨æ‰“ï¼Œä¸æ‡‚å°±è¦é—®ï¼Œèœé¸¡äº’å•„ä¹‹åï¼š</p>\n<blockquote>\n<p>è¿™ä¸ªå…¶å®ä½ å¯ä»¥çœ‹æ•°ç»„å’Œå¯¹è±¡çš„å®ç°æ–¹å¼ï¼Œmap å’Œ obj çš„å®ç°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œæ•°ç»„å’Œ obj çš„å®ç°åˆ™æ˜¯ç›¸ä¼¼çš„\nobj å…¶å®ä»£è¡¨çš„åº”è¯¥æ˜¯ recordï¼Œè€Œä¸æ˜¯ dictionaryï¼Œmap æ‰æ˜¯ dictionaryï¼Œåªè¦æŠŠ Object å½“æˆ record çœ‹ï¼Œé‚£å®ƒå’Œæ•°ç»„å°±æ˜¯ä¸€å®¶äººäº†\næ‰€ä»¥å¯ä»¥è¯•ç€åœ¨ä»£ç ä¸­åšä¸€ç‚¹åŒºåˆ†,map å¯¹ç´¢å¼•æ˜¯æœ‰ä¸€äº›ä¼˜åŒ–çš„ï¼Œè€Œ Object å¯¹ä¸‹æ ‡ç´¢å¼•ä¹Ÿæœ‰ä¼˜åŒ–ï¼Œå””ï¼Œè¿™ç§åŒºåˆ†æ˜¯æŒ‡ä»ä»£ç ç¼–å†™è€…çš„è§’åº¦æ¥è¯´çš„ï¼Œrecord å’Œ dictionary æ˜¯ä¸¤ç§å¾ˆå¸¸è§çš„æ•°æ®ç»“æ„ï¼Œåœ¨ä¸åŒè¯­è¨€ä¸­æœ‰ä¸åŒçš„å®ç°ï¼Œæ¯”å¦‚ python ä¸­çš„å®ç°å°±æ˜¯ tuple å’Œ mapï¼Œè¿™ä¸ªå…¶å®å¯ä»¥ç»“åˆç€ v8 ä¸­å¯¹è±¡æ¨¡å‹çš„å®ç°æ¥ç†è§£ï¼Œè¿™å°±è¯´æ¥è¯é•¿äº†\njs å°±æ˜¯åŠ¨æ€ç±»å‹ï¼Œä»ç±»å‹è§’åº¦æ¥è¯´æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œæ›´å¤šçš„å®ç°çš„è§’åº¦æ¥è€ƒè™‘ï¼Œæ¯”å¦‚è¯´ï¼šåœ¨ v8 ä¸­å¦‚æœä½ çš„å¯¹è±¡ç´¢å¼•æ˜¯æ•°å­—ï¼Œåœ¨è®¿é—®çš„æ—¶å€™é‚£å°±å¾ˆå¿«ï¼Œè¿™ä¸ªå°±æ˜¯ tuple çš„ç‰¹æ€§ï¼Œä½†æ˜¯åœ¨ js ä¸­å°±æ˜¯ objï¼Œå½“ç„¶ object ä¹Ÿèƒ½ä½œä¸º dictionary æ¥ç”¨ï¼Œä½†æ˜¯è¿™æ ·è®¿é—®çš„é€Ÿåº¦å°±å¾ˆæ…¢äº†ï¼ŒåŒç†ï¼Œjs æ•°ç»„ä¸­ä¹Ÿå¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„å€¼ï¼Œä½†æ˜¯å¦‚æœæ”¾åŒæ ·ç±»å‹çš„å€¼ï¼Œé‚£åˆ©ç”¨åç§»å€¼è®¿å­˜å°±ä¼šå¾ˆå¿«</p>\n</blockquote>\n<p>æ‰€ä»¥ js æ‰ä¸“é—¨å‡ºäº†ä¸€ä¸ª Mapï¼Œä¹Ÿæ˜¯å¸Œæœ›è§„èŒƒè¿™ç§ä½¿ç”¨ï¼Œè¿™ç§å½’çº³æ˜¯å®ç°ç›¸å…³çš„</p>\n<p><em>æ„æ€å°±æ˜¯æœ¬è´¨ä¸Šå…¶å®æ•°ç»„ä¸å¯¹è±¡å…¶å®æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼ˆå®ç°æ–¹å¼ä¸€è‡´ï¼‰ï¼Œéƒ½æ˜¯é”®å€¼å¯¹ç»„æˆçš„é›†åˆï¼Œåªä¸è¿‡ js ä¸­çš„æ•°ç»„å°†é”®ä»¥ç´¢å¼•ä¸‹æ ‡çš„å½¢å¼å±•ç°è€Œå·²</em></p>\n<p><strong>ä»€ä¹ˆæ˜¯ record ç±»å‹</strong></p>\n<blockquote>\n<p>è®°å½•(Record)ç±»å‹ç±»ä¼¼äº C è¯­è¨€ä¸­çš„ç»“æ„æ•°æ®ç±»å‹ï¼Œå®ƒæŠŠé€»è¾‘ç›¸å…³çš„ã€åˆ†ç¦»çš„ã€åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ç»„æˆä¸€ä¸ªæ•´ä½“å­˜å‚¨èµ·æ¥ï¼Œå®ƒå¿…é¡»åŒ…æ‹¬è‡³å°‘ä¸€ä¸ªæ ‡é‡å‹æˆ– RECORD æ•°æ®ç±»å‹çš„æˆå‘˜ï¼Œç§°ä½œ PL/SQL RECORD çš„åŸŸ(FIELD)ï¼Œå…¶ä½œç”¨æ˜¯å­˜æ”¾äº’ä¸ç›¸åŒä½†é€»è¾‘ç›¸å…³çš„ä¿¡æ¯ã€‚åœ¨ä½¿ç”¨è®°å½•æ•°æ®ç±»å‹å˜é‡æ—¶ï¼Œéœ€è¦å…ˆåœ¨å£°æ˜éƒ¨åˆ†å…ˆå®šä¹‰è®°å½•çš„ç»„æˆã€è®°å½•çš„å˜é‡ï¼Œç„¶ååœ¨æ‰§è¡Œéƒ¨åˆ†å¼•ç”¨è¯¥è®°å½•å˜é‡æœ¬èº«æˆ–å…¶ä¸­çš„æˆå‘˜</p>\n</blockquote>\n<p>.</p>\n<p>.</p>\n<p>.</p>\n<p>.</p>\n<p>.</p>\n<p>.</p>\n<p>æœªå®Œå¾…ç»­...ğŸ‘</p>","timeToRead":9,"excerpt":"è®°å½•åŸºæœ¬çš„ JS ç›¸å…³çš„ä½¿ç”¨æˆ–è€…é‡åˆ°çš„ issues\næŒç»­æ›´æ–° ğŸ‘ å°æ•°éƒ¨åˆ†è¿›è¡Œæ•°å­¦è¿ç®—å¯èƒ½ä¼šç”Ÿæˆè¿‡å¤šçš„å°æ•°ä½ å¾ˆå¤šäººåº”è¯¥éƒ½é‡åˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼š è¿”å›å€¼æ˜¯ falseï¼Œé¡¿ä¸ºæƒŠå¹\nåœ¨æµè§ˆå™¨è¾“å…¥åå‘ç°  è¿”å›å€¼æ˜¯ (å°æ•° 17 ä½ï¼Œå…³äºè¿™ä¸ª)\næŸ¥äº†ä¸€ä¸‹æ‰¾åˆ°äº†ä¸ªè§£é‡Šï¼š Computerâ€¦","frontmatter":{"title":"Pay attention to those js - ä½ åº”è¯¥æ³¨æ„çš„é‚£äº›JSï¼ˆç›¸å…³ï¼‰","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADHUlEQVQ4y5VUbUhTURg+26JfQb8F9Z5t9+7jujk/tmuZaGppGWZ+pGSoGKalpaLO/P6MpWJUgoFR9LNCsgwUpSxLMW2bUwkxzZWa5QdpJlpkcTvnuPzXpgcuz3uel/vwPO859wJgZ31McgefMlhSf6tlRBh/3Ja6rTVKl1au0gl4v3pdKlw2MGBbazJWQ/BrhVyIcaVO6rTeRE/z92T86g26G3N/HkgESNyx2Ii3FjwGQWAuV7nFzeXJe5HTXz8bGH7ZQLdj7ns9LUC1Y0GzmNt0GedOok6dURtm0lT850zl7EYJy8/lMhmYn9czImu03L6YCfoQHAvxJFHHIz11E1Eev63xmomFVA0/c041vVik2IN7sxdZgV2xHugP+ig/MCTWgrlmNeGG3bUDo8Fei+MRngtTcZ689ZQmFvMfTm+6Xyiwcygv4CGbS05ki540AvfxFlY3PObF8SMe2vlBRueEexaFTjCvl9mP2wGPAROlI/UbSisyQp9JJD5jorgvE9CXN1PcXdwzUpzA7MwBNFfHB9ILA4i7Xiog0Sz25weo/SYLcmmE3JJJwrmRBBQndCjUIM0ET+ER0EMdJIPugiF9aAQLaG99Kwnk+6FvJ+b7oJ+w3/UAsMh0/xerleWBGpketMHjROwJPCFvg+EbHTBs8BkMXTdJjvKvYCC5Ki9hsMg2Z8dxm8VxuzC2wJh09Ky3iiOH++hYHs12qIsKJUKdMAwYHYlhd3XIZatrFJnNLcnZO/dhvPUhPLn0CEZbW8Qx7KbzSNJ/Tfk6dlfL5Als6FLD6C03JemDTZLU99forCzMj7q4C5w178BzeBjFDrIvls9WgTJlCREsVZYylYqi7kpF8Vq1vHD1iizfA/OV8mIhj7Adhjt2hwWRCKmL2HKPYra8FAmnVCsKyWdQpSgkvUZpxvZ+VXImGeSo64jDbFWNU7bKIP7Xuyy/tPW91jM5YNsrwa2KvJimrvM+r67di+sSZRk5hAuaGiRcAAxM/jYdypIJqmQpu30VmeTGRij1hCtgKwAaAdjRwpFt6CSlE8ncaCZJgOLvSOcvuDsP7YSsLpgAAAAASUVORK5CYII=","width":150,"height":150,"src":"/static/15b1871ea4c811121febad33ed4becb6/4148e/post.png","srcSet":"/static/15b1871ea4c811121febad33ed4becb6/4148e/post.png 1x"}}},"slug":"pay-attention-to-these-js","date":"2019-03-11T00:00:00.000Z","categories":["Issues"],"tags":["js"],"template":"post"},"fields":{"slug":"/pay-attention-to-these-js/","date":"2019-03-11T00:00:00.000Z"}}},"pageContext":{"slug":"/pay-attention-to-these-js/"}}}